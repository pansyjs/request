(self.webpackChunk_pansy_request=self.webpackChunk_pansy_request||[]).push([[158],{91260:function(j,R,a){"use strict";a.d(R,{BT:function(){return K},FD:function(){return F},EG:function(){return H},LW:function(){return b}});var C=a(7598),i=a.n(C),I=a(35009),m=a.n(I),P=a(7424),d=a(38467),O=a(14865),A=a(95795),y=a.n(A),W=a(91204),M=a.n(W),Z=a(13885),B=["getResponse"],c,l={},L=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l=n},J=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l=_objectSpread(_objectSpread({},l),n),c=null,U()},U=function(){var n,e,o,u;return c||(c=Z.ZP.create(l),(n=l)===null||n===void 0||(e=n.requestInterceptors)===null||e===void 0||e.forEach(function(r){return r instanceof Array?c.interceptors.request.use(r[0],r[1]):c.interceptors.request.use(r)}),(o=l)===null||o===void 0||(u=o.responseInterceptors)===null||u===void 0||u.forEach(function(r){return r instanceof Array?c.interceptors.response.use(r[0],r[1]):c.interceptors.response.use(r)}),c.interceptors.response.use(function(r){var s,h,f=r.data;return(s=l)!==null&&s!==void 0&&(h=s.errorConfig)!==null&&h!==void 0&&h.errorThrower&&l.errorConfig.errorThrower(f),r}),c)},w=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{method:"GET"},o=U(),u=e.getResponse,r=u===void 0?"data":u,s=y()(e,B);return new Promise(function(h,f){o.request(M()(M()({},s),{},{url:n})).then(function(v){var g,E;switch(r){case"data":E=(g=v.data)===null||g===void 0?void 0:g.data;break;case!1:E=v.data;break;default:E=v;break}h(E)}).catch(function(v){try{var g,E=(g=l.errorConfig)===null||g===void 0?void 0:g.errorHandler;E&&E(v,s,l)}catch(z){f(z)}f(v)})})},p;(function(t){t[t.SILENT=0]="SILENT",t[t.WARN_MESSAGE=1]="WARN_MESSAGE",t[t.ERROR_MESSAGE=2]="ERROR_MESSAGE",t[t.NOTIFICATION=3]="NOTIFICATION",t[t.REDIRECT=9]="REDIRECT"})(p||(p={})),(0,P.sj)({onRequest:function(n,e){if(n.url==="/api/user"){e.resolve({config:n,status:200,headers:{"content-type":"application/json"},response:{code:0,data:"Tom",message:"OK"}});return}if(n.url==="/api/userError"){e.resolve({config:n,status:200,headers:{"content-type":"application/json"},response:{code:400100,message:"\u7528\u6237\u4E0D\u5B58\u5728"}});return}e.next(n)}});var k=function(n,e){if(e!=null&&e.skipErrorHandler)throw n;if(n.name==="BizError"){var o,u,r,s=n.info,h=((o=n.request)===null||o===void 0||(u=o.options)===null||u===void 0||(r=u.params)===null||r===void 0?void 0:r.showType)||(s==null?void 0:s.showType);if(s){var f=s.message,v=s.code;switch(h){case p.SILENT:break;case p.WARN_MESSAGE:d.ZP.warn(f);break;case p.ERROR_MESSAGE:d.ZP.error(f);break;case p.NOTIFICATION:O.Z.open({description:f,message:v});break;case p.REDIRECT:break;default:d.ZP.error(f)}}else n.response?d.ZP.error("Response status:",n.response.status):n.request?d.ZP.error("None response! Please retry."):d.ZP.error("Request error, please retry.")}throw n};L({errorConfig:{errorHandler:k,errorThrower:function(n){var e=n.data,o=n.code,u=n.message,r=n.showType;if(o!==0){var s=new Error(u);throw s.name="BizError",s.info={code:o,message:u,showType:r,data:e},s}}}});var T=w;function K(){return D.apply(this,arguments)}function D(){return D=m()(i()().mark(function t(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/user",{method:"GET"}));case 1:case"end":return e.stop()}},t)})),D.apply(this,arguments)}function F(){return N.apply(this,arguments)}function N(){return N=m()(i()().mark(function t(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/user",{method:"GET",getResponse:!1}));case 1:case"end":return e.stop()}},t)})),N.apply(this,arguments)}function H(){return S.apply(this,arguments)}function S(){return S=m()(i()().mark(function t(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/user",{method:"GET",getResponse:!0}));case 1:case"end":return e.stop()}},t)})),S.apply(this,arguments)}function b(){return G.apply(this,arguments)}function G(){return G=m()(i()().mark(function t(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/userError"));case 1:case"end":return e.stop()}},t)})),G.apply(this,arguments)}},30281:function(j,R,a){"use strict";a.r(R);var C=a(38467),i=a(42323),I=a(97183),m=a(91260),P=a(11527);R.default=function(){var d=(0,I.QT)(m.FD,{manual:!0,onSuccess:function(y){C.ZP.info(JSON.stringify(y))}}),O=function(){d.run()};return(0,P.jsx)(i.Z,{onClick:O,children:"\u83B7\u53D6\u7528\u6237\u540D"})}},65842:function(){},15019:function(){},88941:function(){},54504:function(){},36072:function(){},92804:function(){}}]);
