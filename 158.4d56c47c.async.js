(self.webpackChunk_pansy_request=self.webpackChunk_pansy_request||[]).push([[158],{91260:function(W,g,a){"use strict";a.d(g,{BT:function(){return H},FD:function(){return b},EG:function(){return w},LW:function(){return J}});var P=a(7598),u=a.n(P),I=a(35009),R=a.n(I),O=a(7424),v=a(38467),C=a(14865),A=a(95795),D=a.n(A),Z=a(91204),G=a.n(Z),L=a(13885),B=["getResponse"],i,o={},k=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o=n},z=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o=_objectSpread(_objectSpread({},o),n),i=null,M()},M=function(){var n,e,l,c;return i||(i=L.ZP.create(o),(n=o)===null||n===void 0||(e=n.requestInterceptors)===null||e===void 0||e.forEach(function(r){return r instanceof Array?i.interceptors.request.use(r[0],r[1]):i.interceptors.request.use(r)}),(l=o)===null||l===void 0||(c=l.responseInterceptors)===null||c===void 0||c.forEach(function(r){return r instanceof Array?i.interceptors.response.use(r[0],r[1]):i.interceptors.response.use(r)}),i.interceptors.response.use(function(r){try{var s,h;if((s=o)!==null&&s!==void 0&&(h=s.errorConfig)!==null&&h!==void 0&&h.errorThrower&&o.errorConfig.errorThrower(r))return Promise.reject(r)}catch(d){return Promise.reject(d)}return r}),i)},K=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{method:"GET"},l=M(),c=e.getResponse,r=c===void 0?"data":c,s=D()(e,B);return new Promise(function(h,d){l.request(G()(G()({},s),{},{url:n})).then(function(f){var E,m;switch(r){case"data":m=(E=f.data)===null||E===void 0?void 0:E.data;break;case!1:m=f.data;break;default:m=f;break}h(m)}).catch(function(f){try{var E,m=(E=o.errorConfig)===null||E===void 0?void 0:E.errorHandler;m&&m(f,s,o)}catch(Q){d(Q)}d(f)})})},p;(function(t){t[t.SILENT=0]="SILENT",t[t.WARN_MESSAGE=1]="WARN_MESSAGE",t[t.ERROR_MESSAGE=2]="ERROR_MESSAGE",t[t.NOTIFICATION=3]="NOTIFICATION",t[t.REDIRECT=9]="REDIRECT"})(p||(p={})),(0,O.sj)({onRequest:function(n,e){if(n.url==="/api/user"){e.resolve({config:n,status:200,headers:{"content-type":"application/json"},response:{code:0,data:"Tom",message:"OK"}});return}if(n.url==="/api/userError"){e.resolve({config:n,status:200,headers:{"content-type":"application/json"},response:{code:400100,message:"\u7528\u6237\u4E0D\u5B58\u5728"}});return}e.next(n)}});var U=function(n){var e;return(n==null||(e=n.data)===null||e===void 0?void 0:e.code)!==0},F=function(n,e){if(e!=null&&e.skipErrorHandler)throw n;if(n!=null&&n.data&&U(n)){var l,c,r,s=n.data,h=((l=n.request)===null||l===void 0||(c=l.options)===null||c===void 0||(r=c.params)===null||r===void 0?void 0:r.showType)||(s==null?void 0:s.showType);if(s){var d=s.message,f=s.code;switch(h){case p.SILENT:break;case p.WARN_MESSAGE:v.ZP.warn(d);break;case p.ERROR_MESSAGE:v.ZP.error(d);break;case p.NOTIFICATION:C.Z.open({description:d,message:f});break;case p.REDIRECT:break;default:v.ZP.error(d)}}else n.response?v.ZP.error("Response status:",n.response.status):n.request?v.ZP.error("None response! Please retry."):v.ZP.error("Request error, please retry.")}throw n};k({errorConfig:{errorHandler:F,errorThrower:U}});var T=K;function H(){return y.apply(this,arguments)}function y(){return y=R()(u()().mark(function t(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/user",{method:"GET"}));case 1:case"end":return e.stop()}},t)})),y.apply(this,arguments)}function b(){return N.apply(this,arguments)}function N(){return N=R()(u()().mark(function t(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/user",{method:"GET",getResponse:!1}));case 1:case"end":return e.stop()}},t)})),N.apply(this,arguments)}function w(){return S.apply(this,arguments)}function S(){return S=R()(u()().mark(function t(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/user",{method:"GET",getResponse:!0}));case 1:case"end":return e.stop()}},t)})),S.apply(this,arguments)}function J(){return j.apply(this,arguments)}function j(){return j=R()(u()().mark(function t(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("/api/userError"));case 1:case"end":return e.stop()}},t)})),j.apply(this,arguments)}},30281:function(W,g,a){"use strict";a.r(g);var P=a(38467),u=a(42323),I=a(97183),R=a(91260),O=a(11527);g.default=function(){var v=(0,I.QT)(R.FD,{manual:!0,onSuccess:function(D){P.ZP.info(JSON.stringify(D))}}),C=function(){v.run()};return(0,O.jsx)(u.Z,{onClick:C,children:"\u83B7\u53D6\u7528\u6237\u540D"})}},65842:function(){},15019:function(){},88941:function(){},54504:function(){},36072:function(){},92804:function(){}}]);
